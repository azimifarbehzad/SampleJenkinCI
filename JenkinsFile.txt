
node {  
    stage('Checkout git repo') {  
 git credentialsId: 'azimifarbehzad', url: 'https://github.com/azimifarbehzad/SampleJenkinCI',branch: 'master'
            }  
    stage('build and publish') {  
        sh(script: "dotnet publish JenkinsIntegration -c Release ", returnStdout: true)  
    }  
    stage('deploy') {  
        azureWebAppPublish azureCredentialsId: params.azure_cred_id,  
            resourceGroup: params.res_group, appName: params.JenkinsIntegration, sourceDirectory: "JenkinsIntegration/JenkinsIntegration/bin/Release/netcoreapp2.1/publish/"  
        }  
} 